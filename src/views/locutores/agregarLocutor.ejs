<!DOCTYPE html>
<html lang="en">

<!-- Incluir head -->
<%- include('../layout/locutores/agregarLocutorHead') %>

<body class="min-vh-100 d-flex flex-column">

    <!--  Body wrapper -->
    <div class="container">
        <h1>Agregar Nuevo Locutor</h1>
        
        <!-- Body -->
        <% if (error) { %>
            <div class="alert-error"><%= error %></div>
        <% } %>

    <form action="/locutores/agregarLocutor" method="POST">
        <div>
            <div class="form-group">
            <label>Nombre:</label>
            <input type="text" name="nombre" value="<%= locutor.nombre %>" required>

        </div>
        
        <div class="form-group">
            <label>Biografía:</label>
            <textarea name="biografia"><%= locutor.biografia %></textarea>
        
        </div>
        
        <div class="social-media-section">
            <h3>Redes Sociales</h3>
            <div class="social-input-group">
                <div class="form-group">
                <label>Instagram:</label>
                <input type="text" name="redSocial.instagram" value="<%= locutor.redSocial.instagram %>">
            </div>
            <div class="form-group">
                <label>Facebook:</label>
                <input type="text" name="redSocial.facebook" value="<%= locutor.redSocial.facebook %>">
            </div>
        </div>
        
        <div>
            <label>Programas:</label>
            <select name="programas" multiple>
                <% programas.forEach(programa => { %>
                    <option value="<%= programa._id %>" 
                        <%= locutor.programas.some(p => p.equals(programa._id)) ? 'selected' : '' %>>
                        <%= programa.nombre %>
                    </option>
                <% }); %>
            </select>
            <small>Mantén presionado Ctrl para seleccionar múltiples</small>
        </div>
        
        <div class="form-actions">
            <button type="submit">Guardar</button>
            <a href="/locutores">Cancelar</a>
        </div>
    </form>
</div>

<!-- Incluir scripts de js -->
<%- include('../layout/locutores/agregarLocutorScripts') %>
</body>
</html>